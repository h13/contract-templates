# Contract Templates - 開発ロードマップ

## 🎯 ビジョン

Markdown ベースの契約書管理システムを、法務・実務の現場で使える本格的なツールに進化させる。

---

## 📅 Phase 1: 基盤強化（1-2週間）

### ✅ 完了
- [x] 基本リポジトリ構成
- [x] GitHub Actions による Word 変換
- [x] textlint による品質チェック

### 🔄 進行中
- [ ] **CI/CD の動作確認**
  - 手動実行テスト
  - paths フィルターの調整
  - エラー時の通知設定

### 📝 TODO
- [ ] **テスト用サンプル契約書の追加**
  - NDA（既存）
  - 業務委託契約書
  - 雇用契約書
  - 秘密保持誓約書

- [ ] **Word テンプレートのカスタマイズ**
  - フォント設定（游明朝/ゴシック）
  - 余白・行間調整
  - ヘッダー・フッター設定
  - スタイル定義（見出し1〜3、本文）

- [ ] **textlint ルールの調整**
  - 法律用語の統一
  - 社内用語の登録
  - 誤字脱字パターンの追加
  - 除外ルールの設定

- [ ] **ドキュメント整備**
  - 使い方ガイド（README.md 拡充）
  - トラブルシューティング
  - サンプルコード集

---

## 📅 Phase 2: 変数置換・テンプレート化（2-3週間）

### 🎯 目標
契約書の変数部分を自動置換し、再利用性を向上

### 📝 TODO
- [ ] **変数置換システムの実装**
  - Python/Node.js スクリプト作成
  - YAML/JSON でのデータ定義
  - `{{variable}}` 形式の置換対応
  - 必須項目のバリデーション

- [ ] **共通条項のモジュール化**
  - `templates/clauses/` ディレクトリ作成
  - `{{include clause.md}}` 機能実装
  - 条項ライブラリの構築
    - 秘密保持条項
    - 解除条項
    - 損害賠償条項
    - 準拠法・管轄裁判所条項

- [ ] **契約書テンプレートの種類拡充**
  - 基本NDA（双方向）
  - 片方向NDA
  - 業務委託契約書
  - 請負契約書
  - 雇用契約書
  - 秘密保持誓約書

- [ ] **データスキーマの定義**
  - 契約当事者情報
  - 契約期間
  - 金額・支払条件
  - JSON Schema による検証

---

## 📅 Phase 3: メタデータ・検索機能（2-3週間）

### 🎯 目標
契約書のライフサイクル管理と検索性の向上

### 📝 TODO
- [ ] **フロントマター（YAMLヘッダー）の標準化**
  ```yaml
  ---
  id: contract-2025-001
  title: 秘密保持契約書
  type: nda
  version: 1.2
  status: active
  parties:
    - name: 株式会社A
      role: discloser
    - name: 株式会社B
      role: recipient
  effective_date: 2025-01-20
  expiry_date: 2028-01-20
  tags: [nda, confidentiality, partner]
  related_contracts:
    - contract-2024-045
  created_by: h13
  created_at: 2025-01-20
  last_modified: 2025-01-25
  ---
  ```

- [ ] **契約書インデックスの自動生成**
  - `contracts/index.md` を自動生成
  - テーブル形式で一覧表示
  - フィルタリング機能（ステータス、種類、当事者）
  - GitHub Actions で定期更新

- [ ] **検索機能の実装**
  - 全文検索（ripgrep/fzf）
  - メタデータ検索
  - タグベース検索
  - CLI ツールの作成

- [ ] **契約書ステータス管理**
  - draft / review / active / expired / terminated
  - ステータス変更のワークフロー
  - 履歴管理

---

## 📅 Phase 4: 複数フォーマット出力（1-2週間）

### 🎯 目標
Word 以外のフォーマットにも対応

### 📝 TODO
- [ ] **PDF 出力**
  - pandoc による PDF 生成
  - 日本語フォントの設定
  - レイアウト調整
  - Artifacts へのアップロード

- [ ] **HTML 出力**
  - Web 表示用 HTML 生成
  - スタイリング（CSS）
  - GitHub Pages での公開
  - レスポンシブ対応

- [ ] **Markdown 出力**
  - 整形された Markdown 生成
  - 変数置換後の状態で出力
  - 配布用ファイル作成

---

## 📅 Phase 5: Web UI（3-4週間）

### 🎯 目標
非エンジニアでも使いやすい Web インターフェース

### 📝 TODO
- [ ] **GitHub Pages サイト構築**
  - React/Vue.js ベースの SPA
  - 契約書一覧ページ
  - 検索・フィルタリング UI
  - プレビュー機能

- [ ] **Markdown エディタ統合**
  - Monaco Editor / CodeMirror
  - シンタックスハイライト
  - リアルタイムプレビュー
  - 変数ハイライト

- [ ] **フォームベース入力**
  - 変数入力フォーム
  - バリデーション
  - プレビュー機能
  - YAML/JSON エクスポート

- [ ] **GitHub API 連携**
  - OAuth 認証
  - ファイル作成・編集
  - PR 作成
  - コミット履歴表示

---

## 📅 Phase 6: 通知・アラート（1-2週間）

### 🎯 目標
契約書の有効期限管理と変更通知

### 📝 TODO
- [ ] **有効期限監視**
  - GitHub Actions で定期チェック（毎日）
  - 期限切れ契約書のリストアップ
  - 30日前・7日前・当日のアラート

- [ ] **通知チャネル連携**
  - Slack 通知
  - Discord 通知
  - メール通知（SendGrid/SES）
  - Webhook 対応

- [ ] **変更通知**
  - 新規契約書追加時の通知
  - 既存契約書の更新通知
  - PR 作成・マージ通知
  - CI 失敗通知

---

## 📅 Phase 7: 多言語対応（2-3週間）

### 🎯 目標
英語・中国語など多言語契約書の自動生成

### 📝 TODO
- [ ] **多言語テンプレート構造**
  ```
  contracts/
  ├── nda/
  │   ├── ja.md
  │   ├── en.md
  │   └── zh.md
  ```

- [ ] **用語集管理**
  - YAML での用語定義
  - 言語間マッピング
  - 翻訳メモリ機能

- [ ] **自動翻訳連携**
  - DeepL API 統合
  - Google Translate API 統合
  - 翻訳品質のレビューフロー

- [ ] **言語切替 UI**
  - Web UI での言語選択
  - 比較表示機能
  - 翻訳差分ハイライト

---

## 📅 Phase 8: 高度な機能（継続的）

### 🎯 目標
実務でさらに役立つ機能の追加

### 📝 TODO
- [ ] **契約書比較機能**
  - 2つのバージョンの差分表示
  - 変更箇所のハイライト
  - 変更理由の記録

- [ ] **条項ライブラリの拡充**
  - 業界別条項集
  - 法改正対応
  - ベストプラクティス集

- [ ] **監査ログ**
  - 全変更の履歴記録
  - アクセスログ
  - 承認フロー

- [ ] **API 提供**
  - REST API エンドポイント
  - 外部システム連携
  - Webhook 受信

- [ ] **電子署名連携**
  - DocuSign 連携
  - Adobe Sign 連携
  - 署名状況の追跡

---

## 📊 優先度マトリックス

| 機能 | 重要度 | 緊急度 | 工数 | 優先度 |
|------|--------|--------|------|--------|
| CI/CD 動作確認 | 高 | 高 | 小 | **P0** |
| Word テンプレート調整 | 高 | 中 | 小 | **P1** |
| 変数置換 | 高 | 中 | 中 | **P1** |
| 共通条項モジュール化 | 高 | 中 | 中 | **P1** |
| メタデータ管理 | 中 | 低 | 中 | **P2** |
| PDF 出力 | 中 | 低 | 小 | **P2** |
| Web UI | 中 | 低 | 大 | **P3** |
| 通知・アラート | 中 | 低 | 中 | **P3** |
| 多言語対応 | 低 | 低 | 大 | **P4** |
| 電子署名連携 | 低 | 低 | 大 | **P4** |

---

## 🏁 マイルストーン

### Milestone 1: MVP（Minimum Viable Product）
**目標: 2週間**
- CI/CD 完全動作
- 基本的なテンプレート3種類
- textlint ルール調整完了

### Milestone 2: 実用版
**目標: 4-6週間**
- 変数置換機能
- 共通条項モジュール
- PDF 出力
- 基本的なメタデータ管理

### Milestone 3: 本格運用版
**目標: 8-12週間**
- Web UI（基本機能）
- 通知・アラート
- 契約書インデックス
- 検索機能

### Milestone 4: エンタープライズ版
**目標: 3-6ヶ月**
- 多言語対応
- 電子署名連携
- API 提供
- 監査ログ

---

## 🤝 貢献ガイドライン

### 開発に参加するには
1. Issue を作成して機能提案
2. フォークして機能ブランチ作成
3. PR を作成してレビュー
4. マージ後にリリース

### コーディング規約
- Markdown: JTF 日本語標準スタイルガイド準拠
- コミットメッセージ: Conventional Commits
- ブランチ命名: `feature/機能名` `fix/バグ名`

---

## 📚 参考リソース

- [Pandoc ドキュメント](https://pandoc.org/)
- [textlint ルール一覧](https://github.com/textlint/textlint/wiki/Collection-of-textlint-rule)
- [GitHub Actions ドキュメント](https://docs.github.com/en/actions)
- [JTF 日本語標準スタイルガイド](https://www.jtf.jp/jp/style_guide/styleguide_top.html)

---

## 📝 変更履歴

- 2025-02-25: 初版作成
- ロードマップ策定完了
